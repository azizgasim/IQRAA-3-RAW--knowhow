{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://iqra.ai/schemas/agents/base_agent.schema.json",
  "title": "IQRA Base Agent Schema",
  "description": "Base schema for all IQRA agents - v1.3",
  "type": "object",
  "required": ["agent_id", "arabic_name", "layer", "autonomy_level"],
  "properties": {
    "agent_id": {
      "type": "string",
      "pattern": "^AGT-[0-9]{2}-[A-Z]+$",
      "description": "Unique agent identifier"
    },
    "arabic_name": {
      "type": "string",
      "description": "Arabic name for the agent"
    },
    "english_name": {
      "type": "string",
      "description": "English name for the agent"
    },
    "layer": {
      "type": "integer",
      "minimum": 0,
      "maximum": 5,
      "description": "Agent layer (0-5)"
    },
    "autonomy_level": {
      "type": "string",
      "enum": ["L1_EXECUTOR", "L2_ADVISOR", "L3_DECIDER", "L4_INITIATOR"],
      "description": "Agent autonomy level"
    },
    "llm_config": {
      "type": "object",
      "properties": {
        "model": {
          "type": "string",
          "default": "gemini-1.5-pro"
        },
        "temperature": {
          "type": "number",
          "minimum": 0,
          "maximum": 2,
          "default": 0.3
        },
        "max_tokens": {
          "type": "integer",
          "default": 8192
        }
      }
    },
    "timeout_seconds": {
      "type": "integer",
      "minimum": 1,
      "maximum": 300,
      "default": 60
    },
    "max_retries": {
      "type": "integer",
      "minimum": 0,
      "maximum": 5,
      "default": 3
    },
    "inputs": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["name", "type"],
        "properties": {
          "name": {"type": "string"},
          "type": {"type": "string"},
          "required": {"type": "boolean", "default": true},
          "description": {"type": "string"}
        }
      }
    },
    "outputs": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["name", "type"],
        "properties": {
          "name": {"type": "string"},
          "type": {"type": "string"},
          "description": {"type": "string"}
        }
      }
    },
    "gates_before": {
      "type": "array",
      "items": {"type": "string", "pattern": "^G-[0-5]$"}
    },
    "gates_after": {
      "type": "array",
      "items": {"type": "string", "pattern": "^G-[0-5]$"}
    },
    "dependencies": {
      "type": "array",
      "items": {"type": "string", "pattern": "^AGT-[0-9]{2}-[A-Z]+$"}
    },
    "enabled": {
      "type": "boolean",
      "default": true
    }
  }
}
