# ═══════════════════════════════════════════════════════════════════════════════
#                    IQRA-12 Knowledge Layer
#                        طبقة المعرفة
# ═══════════════════════════════════════════════════════════════════════════════

## المبدأ المركزي

> **"تحويل البيانات إلى معانٍ ومفاهيم قابلة للاستنتاج والتتبع"**

هذه الطبقة تُحوّل البيانات الخام إلى بنية معرفية عميقة.

---

## المعمارية

```
┌─────────────────────────────────────────────────────────────────────────┐
│                         طبقة المعرفة                                    │
│              "من البيانات الخام إلى الفهم العميق"                       │
└─────────────────────────────────────────────────────────────────────────┘
                                    │
          ┌─────────────────────────┼─────────────────────────┐
          │                         │                         │
          ▼                         ▼                         ▼
    ┌───────────────┐       ┌───────────────┐       ┌───────────────┐
    │   الكوربسات   │       │   الكيانات    │       │  الأنطولوجيا  │
    │   Corpora     │       │   Entities    │       │   Ontology    │
    └───────────────┘       └───────────────┘       └───────────────┘
          │                         │                         │
          ▼                         ▼                         ▼
    ┌───────────────┐       ┌───────────────┐       ┌───────────────┐
    │   النصوص     │       │   العلاقات    │       │   المفاهيم    │
    │    Texts      │       │  Relations    │       │   Concepts    │
    └───────────────┘       └───────────────┘       └───────────────┘
          │                         │                         │
          └─────────────────────────┼─────────────────────────┘
                                    │
                                    ▼
                      ┌───────────────────────┐
                      │    رسم المعرفة       │
                      │   Knowledge Graph     │
                      │        +              │
                      │   شبكات التثاقف       │
                      │ Acculturation Networks│
                      └───────────────────────┘
```

---

## هيكل الملفات

```
iqra12_knowledge_layer/
│
├── README.md                        # هذا الملف
├── 00_LAYER_OVERVIEW.yaml           # نظرة عامة + المبادئ الحاكمة
│
├── 01_corpora_registry.yaml         # سجل الكوربسات والمصادر
│   ├── طبقات المصادر (4 طبقات)
│   ├── سياسة الاقتناء
│   └── جداول BigQuery
│
├── 02_entity_schema.yaml            # هيكل الكيانات
│   ├── أنواع الكيانات (8 أنواع)
│   ├── نظام المعرّفات
│   └── حل الالتباس (Disambiguation)
│
├── 03_relations_schema.yaml         # أنواع العلاقات
│   ├── العلاقات الواقعية vs التأويلية
│   ├── Evidence-backed edges
│   └── جداول الروابط
│
├── 04_ontology_framework.yaml       # الإطار المفاهيمي
│   ├── أنطولوجيا DOLCE (Guarino)
│   ├── أنماط التصميم (Gangemi)
│   └── الميتافيزيقا الحاسوبية (Zalta)
│
├── 05_text_atomization.yaml         # تقطيع النصوص
│   ├── وحدات النص (doc/section/passage/sentence)
│   ├── Offsets ومعيارها
│   └── Quality flags
│
└── 06_acculturation_networks.yaml   # شبكات التثاقف
    ├── التقاليد السابقة للإسلام (7)
    ├── قنوات الانتقال إلى الغرب (5)
    ├── التتبع المعجمي (7 لغات)
    └── الكوربسات الخارجية المتصلة
```

---

## الآباء المؤسسون

| الرائد | المجال | الدرس الأساسي |
|--------|--------|---------------|
| **Tim Berners-Lee** | Linked Data | المعرّف أولاً |
| **Sarah Bowen Savant** | KITAB / Text Reuse | النص ككائن حي |
| **Maxim Romanov** | OpenITI | التاريخ كبيانات |
| **Nicola Guarino** | DOLCE Ontology | الجواهر vs الأحداث |
| **Thomas Gruber** | Ontology | الحد الأدنى من الالتزام |
| **Luc Moreau** | Provenance | الأصل كطبقة بيانات |
| **Ian Gregory** | Historical GIS | الأماكن الضبابية |
| **Ruth Ahnert** | Network Analysis | المركزية البينية |
| **Eugene Garfield** | Citation Indexing | سياق الاقتباس |
| **Victoria Stodden** | Reproducibility | قابلية إعادة الإنتاج |

---

## مناطق البيانات الأربع

```
┌─────────────────────────────────────────────────────────────────┐
│ 1. Raw Zone          │ ما تم اقتناؤه كما هو                    │
├─────────────────────────────────────────────────────────────────┤
│ 2. Curated Zone      │ تنظيف + توحيد + تقطيع                   │
├─────────────────────────────────────────────────────────────────┤
│ 3. Semantic Zone     │ كيانات + علاقات + مفاهيم               │
├─────────────────────────────────────────────────────────────────┤
│ 4. Evidence Zone     │ ادعاءات + شواهد + استشهادات            │
└─────────────────────────────────────────────────────────────────┘

القاعدة: "لا claim بلا evidence، ولا evidence بلا offsets"
```

---

## المعرّفات الخمسة

| المستوى | النوع | أمثلة |
|---------|-------|-------|
| 1 | معرّفات المحتوى | source_id, work_id, edition_id |
| 2 | معرّفات النص | passage_id, sentence_id + offsets |
| 3 | معرّفات الكيانات | person_id, concept_id, place_id |
| 4 | معرّفات البحث | claim_id, evidence_id, citation_id |
| 5 | معرّفات التشغيل | project_id, run_id, agent_id |

---

## شبكات التثاقف

### التقاليد السابقة للإسلام (7)
```
1. الفلسفة اليونانية     ← TLG, Perseus
2. المسيحية الشرقية       ← Patrologia, CSCO
3. التراث الفارسي         ← Avesta, Pahlavi
4. التقليد اليهودي        ← Sefaria
5. الغنوصية والهرمسية     ← Nag Hammadi
6. التقاليد الهندية       ← GRETIL
7. البيزنطية              ← TLG
```

### قنوات الانتقال إلى الغرب (5)
```
1. الأندلس (طليطلة)       ← مدرسة الترجمة
2. صقلية                  ← بلاط روجر الثاني
3. الصليبيون              ← النقل المباشر
4. القسطنطينية            ← الفرار البيزنطي
5. التجارة                ← الموانئ الإيطالية
```

### اللغات المتصلة (7)
```
اليونانية ← السريانية ← العربية → العبرية → اللاتينية
                                      ↓
                               الإسبانية الوسيطة
```

---

## الكوربسات ذات الأولوية

| # | الكوربس | المحتوى | الأولوية |
|---|---------|---------|----------|
| 1 | OpenITI | 4,300+ نص تراثي | عالية جداً |
| 2 | KITAB | تحليل التناص | عالية جداً |
| 3 | DARE | ابن رشد متعدد اللغات | عالية جداً |
| 4 | OpenAlex | 250M عمل أكاديمي | عالية جداً |
| 5 | TLG | الفلسفة اليونانية | عالية |
| 6 | Sefaria | التقليد اليهودي | عالية |

---

## القواعد الذهبية

### من Sarah Bowen Savant:
> "الكتاب التراثي ليس ملفاً ثابتاً، بل كائن حي يتغير مع كل ناسخ"

### من Maxim Romanov:
> "80% من الجهد في تنظيف النصوص قبل إدخالها للوكيل"

### من Nicola Guarino:
> "فرّق بين الجواهر (العلماء، الكتب) والأحداث (المعارك، الرحلات)"

### من المشروع:
> "لا نفهم المتكلمين دون فهم آباء الكنيسة"
> "لا نفهم الفلاسفة دون فهم اليونان"

---

## الإحصائيات

```
المكونات:           6 ملفات YAML
مناطق البيانات:     4 مناطق
مستويات المعرّفات:  5 مستويات
الآباء المؤسسون:    10+
التقاليد السابقة:   7 تقاليد
قنوات الانتقال:     5 قنوات
اللغات المتصلة:     7 لغات
الكوربسات:          15+ كوربس
```

---

## العلاقة مع الطبقات الأخرى

```
┌─────────────────────────────────────────────────────────────────┐
│                    طبقة العمليات (44 عملية)                    │
│                 iqra12_operations_contracts                      │
└─────────────────────────────────────────────────────────────────┘
                              ▲
                              │ تستخدم
                              │
┌─────────────────────────────────────────────────────────────────┐
│                    طبقة المعرفة (هذه الحزمة)                    │
│                    iqra12_knowledge_layer                        │
└─────────────────────────────────────────────────────────────────┘
                              ▲
                              │ تُغذّي
                              │
┌─────────────────────────────────────────────────────────────────┐
│                   محرك التكوين الديناميكي                       │
│                 iqra12_composition_engine                        │
└─────────────────────────────────────────────────────────────────┘
```

---

**إقرأ-12** | طبقة المعرفة | 2024
